<template>
  <view class="container">
    <!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
    <view class="navbar flex justify-between p-4x p-4t">
      <view class="navbar-content flex justify-between item-center">
        <text class="navbar-title item-center">äºŒæ‰‹ä¼˜é€‰</text>
      </view>
        
      <div class="flex item-center p-2">

        <button class="navbar-icon">
          <text class="icon-bell">ğŸ””</text>
        </button>
      </div>
    </view>

    <!-- æœç´¢æ¡† -->
    <view class="search-container">
      <view class="search-box">
        <div class="search-icon">ğŸ”</div>
        <input class="search-placeholder" placeholder="æœç´¢é—²ç½®å¥½ç‰©" />
      </view>
    </view>

    <!-- åˆ†ç±» -->
    <view class="category-section">
      <text class="section-title">åˆ†ç±»</text>
      <view class="category-grid">
        <view 
          class="category-item" 
          v-for="(item, index) in categories" 
          :key="index"
          @click="navigateToCategory(item.type)"
        >
          <view class="category-icon" :style="{ backgroundColor: item.color }">
            <text class="category-emoji">{{ item.icon }}</text>
          </view>
          <text class="category-name">{{ item.name }}</text>
        </view>
      </view>
    </view>

    <!-- æ¨èå•†å“ -->
    <view class="recommend-section">
      <text class="section-title">ä¸ºæ‚¨æ¨è</text>
      <view class="product-grid">
        <view 
          class="product-item" 
          v-for="(product, index) in recommendProducts" 
          :key="index"
          @click="navigateToProduct(product.id)"
        >
          <image class="product-image" :src="product.image" mode="aspectFill" />
          <view class="product-info">
            <text class="product-price">Â¥{{ product.price }}</text>
            <text class="product-title">{{ product.title }}</text>
            <text class="product-desc">{{ product.description }}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue'

// åˆ†ç±»æ•°æ®
const categories = ref([
  { name: 'æ—¶å°šæœé¥°', icon: 'ğŸ‘”', color: '#E3F2FD', type: 'fashion' },
  { name: 'æ•°ç äº§å“', icon: 'ğŸ’»', color: '#E8F5E8', type: 'digital' },
  { name: 'å®¶å±…ç”¨å“', icon: 'ğŸ ', color: '#FFF3E0', type: 'home' },
  { name: 'å›¾ä¹¦æ–‡å…·', icon: 'ğŸ“š', color: '#F3E5F5', type: 'books' }
])

// æ¨èå•†å“æ•°æ®
const recommendProducts = ref([
  {
    id: 1,
    title: 'å…¨æ–°æ—¶å°šè¿è¡£è£™',
    description: 'å°ºç Mï¼Œä»…è¯•ç©¿',
    price: 85,
    image: '/static/product1.jpg'
  },
  {
    id: 2,
    title: 'ä¹æˆæ–°å“ç‰Œç›¸æœº',
    description: 'é…ä»¶é½å…¨ï¼Œä½¿ç”¨å¾ˆå°‘',
    price: 1200,
    image: '/static/product2.jpg'
  },
  {
    id: 3,
    title: 'åŒ—æ¬§é£ç®€çº¦å°ç¯',
    description: 'è®¾è®¡æ„Ÿåè¶³ï¼Œå‡ ä¹å…¨æ–°',
    price: 150,
    image: '/static/product3.jpg'
  },
  {
    id: 4,
    title: 'ç»å…¸æ–‡å­¦åè‘—å¥—è£…',
    description: 'æ— ç¬”è®°ï¼Œä¿å­˜å®Œå¥½',
    price: 30,
    image: '/static/product4.jpg'
  }
])

// å¯¼èˆªåˆ°åˆ†ç±»é¡µé¢
const navigateToCategory = (type: string) => {
  console.log('Navigate to category:', type)
  // uni.navigateTo({
  //   url: `/pages/category/category?type=${type}`
  // })
}

// å¯¼èˆªåˆ°å•†å“è¯¦æƒ…
const navigateToProduct = (id: number) => {
  console.log('Navigate to product:', id)
  // uni.navigateTo({
  //   url: `/pages/product/product?id=${id}`
  // })
}
</script>

<style scoped src="../static/styles/local/home.css">

</style>
