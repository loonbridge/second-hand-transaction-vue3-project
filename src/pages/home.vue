<template>
  <view class="container">
    <!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
    <view class="navbar">
      <view class="navbar-content">
        <text class="navbar-title">äºŒæ‰‹ä¼˜é€‰</text>
        <view class="navbar-icon">
          <text class="icon-bell">ğŸ””</text>
        </view>
      </view>
    </view>

    <!-- æœç´¢æ¡† -->
    <view class="search-container">
      <view class="search-box">
        <text class="search-icon">ğŸ”</text>
        <text class="search-placeholder">æœç´¢é—²ç½®å¥½ç‰©</text>
      </view>
    </view>

    <!-- åˆ†ç±» -->
    <view class="category-section">
      <text class="section-title">åˆ†ç±»</text>
      <view class="category-grid">
        <view 
          class="category-item" 
          v-for="(item, index) in categories" 
          :key="index"
          @click="navigateToCategory(item.type)"
        >
          <view class="category-icon" :style="{ backgroundColor: item.color }">
            <text class="category-emoji">{{ item.icon }}</text>
          </view>
          <text class="category-name">{{ item.name }}</text>
        </view>
      </view>
    </view>

    <!-- æ¨èå•†å“ -->
    <view class="recommend-section">
      <text class="section-title">ä¸ºæ‚¨æ¨è</text>
      <view class="product-grid">
        <view 
          class="product-item" 
          v-for="(product, index) in recommendProducts" 
          :key="index"
          @click="navigateToProduct(product.id)"
        >
          <image class="product-image" :src="product.image" mode="aspectFill" />
          <view class="product-info">
            <text class="product-price">Â¥{{ product.price }}</text>
            <text class="product-title">{{ product.title }}</text>
            <text class="product-desc">{{ product.description }}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue'

// åˆ†ç±»æ•°æ®
const categories = ref([
  { name: 'æ—¶å°šæœé¥°', icon: 'ğŸ‘”', color: '#E3F2FD', type: 'fashion' },
  { name: 'æ•°ç äº§å“', icon: 'ğŸ’»', color: '#E8F5E8', type: 'digital' },
  { name: 'å®¶å±…ç”¨å“', icon: 'ğŸ ', color: '#FFF3E0', type: 'home' },
  { name: 'å›¾ä¹¦æ–‡å…·', icon: 'ğŸ“š', color: '#F3E5F5', type: 'books' }
])

// æ¨èå•†å“æ•°æ®
const recommendProducts = ref([
  {
    id: 1,
    title: 'å…¨æ–°æ—¶å°šè¿è¡£è£™',
    description: 'å°ºç Mï¼Œä»…è¯•ç©¿',
    price: 85,
    image: '/static/product1.jpg'
  },
  {
    id: 2,
    title: 'ä¹æˆæ–°å“ç‰Œç›¸æœº',
    description: 'é…ä»¶é½å…¨ï¼Œä½¿ç”¨å¾ˆå°‘',
    price: 1200,
    image: '/static/product2.jpg'
  },
  {
    id: 3,
    title: 'åŒ—æ¬§é£ç®€çº¦å°ç¯',
    description: 'è®¾è®¡æ„Ÿåè¶³ï¼Œå‡ ä¹å…¨æ–°',
    price: 150,
    image: '/static/product3.jpg'
  },
  {
    id: 4,
    title: 'ç»å…¸æ–‡å­¦åè‘—å¥—è£…',
    description: 'æ— ç¬”è®°ï¼Œä¿å­˜å®Œå¥½',
    price: 30,
    image: '/static/product4.jpg'
  }
])

// å¯¼èˆªåˆ°åˆ†ç±»é¡µé¢
const navigateToCategory = (type: string) => {
  console.log('Navigate to category:', type)
  // uni.navigateTo({
  //   url: `/pages/category/category?type=${type}`
  // })
}

// å¯¼èˆªåˆ°å•†å“è¯¦æƒ…
const navigateToProduct = (id: number) => {
  console.log('Navigate to product:', id)
  // uni.navigateTo({
  //   url: `/pages/product/product?id=${id}`
  // })
}
</script>

<style scoped>
.container {
  background-color: #F5F5F5;
  min-height: 100vh;
}

/* è‡ªå®šä¹‰å¯¼èˆªæ  */
.navbar {
  background-color: #FFFFFF;
  padding-top: 12px; /* çŠ¶æ€æ é«˜åº¦ */
  padding-bottom: 10px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.navbar-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 20px;
  height: 44px;
}

.navbar-title {
  font-size: 18px;
  font-weight: bold;
  color: #333333;
}

.navbar-icon {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.icon-bell {
  font-size: 20px;
}

/* æœç´¢æ¡† */
.search-container {
  padding: 15px 20px;
  background-color: #FFFFFF;
}

.search-box {
  display: flex;
  align-items: center;
  background-color: #F5F5F5;
  border-radius: 10px;
  padding: 8px 12px;
  height: 36px;
}

.search-icon {
  font-size: 16px;
  margin-right: 8px;
  color: #999999;
}

.search-placeholder {
  color: #999999;
  font-size: 14px;
}

/* åˆ†ç±»éƒ¨åˆ† */
.category-section {
  background-color: #FFFFFF;
  margin-top: 10px;
  padding: 20px;
}

.section-title {
  font-size: 18px;
  font-weight: bold;
  color: #333333;
  margin-bottom: 15px;
}

.category-grid {
  display: flex;
  justify-content: space-between;
}

.category-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 70px;
}

.category-icon {
  width: 50px;
  height: 50px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 8px;
}

.category-emoji {
  font-size: 24px;
}

.category-name {
  font-size: 12px;
  color: #666666;
  text-align: center;
}

/* æ¨èå•†å“ */
.recommend-section {
  background-color: #FFFFFF;
  margin-top: 10px;
  padding: 20px;
}

.product-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 10px;
}

.product-item {
  width: 48%;
  background-color: #FFFFFF;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.product-image {
  width: 100%;
  height: 120px;
  background-color: #F0F0F0;
}

.product-info {
  padding: 10px;
}

.product-price {
  font-size: 16px;
  font-weight: bold;
  color: #FF6B35;
  margin-bottom: 4px;
}

.product-title {
  font-size: 14px;
  color: #333333;
  margin-bottom: 2px;
  display: block;
}

.product-desc {
  font-size: 12px;
  color: #999999;
  display: block;
}
</style>
